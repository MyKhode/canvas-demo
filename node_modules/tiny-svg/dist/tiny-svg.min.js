!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TinySVG={})}(this,(function(e){"use strict";function t(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}function r(e,r){return r.appendChild(t(e,r))}var n=2,o={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":n,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":n,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function i(e,t,r){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=o[i];a?(a===n&&"number"==typeof r&&(r=String(r)+"px"),e.style[i]=r):e.setAttributeNS(null,t,r)}function a(e,t,r){if("string"==typeof t){if(void 0===r)return function(e,t){return o[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);i(e,t,r)}else!function(e,t){var r,n,o=Object.keys(t);for(r=0;n=o[r];r++)i(e,n,t[n])}(e,t);return e}const s=Object.prototype.toString;function c(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function l(e){var t=e.parentNode;return t&&t.removeChild(e),e}function u(e){for(var t;t=e.firstChild;)l(t);return e}c.prototype.add=function(e){return this.list.add(e),this},c.prototype.remove=function(e){return"[object RegExp]"==s.call(e)?this.removeMatching(e):(this.list.remove(e),this)},c.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this},c.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},c.prototype.array=function(){return Array.from(this.list)},c.prototype.has=c.prototype.contains=function(e){return this.list.contains(e)};var f={svg:"http://www.w3.org/2000/svg"},p='<svg xmlns="'+f.svg+'"';function d(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(f.svg)&&(e=p+e.substring(4)):(e=p+">"+e+"</svg>",t=!0);var r=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return r;for(var n=document.createDocumentFragment(),o=r.firstChild;o.firstChild;)n.appendChild(o.firstChild);return n}function h(e,t){var r;return"<"===(e=e.trim()).charAt(0)?(r=d(e).firstChild,r=document.importNode(r,!0)):r=document.createElementNS(f.svg,e),t&&a(r,t),r}var g=null;function m(){return null===g&&(g=h("svg")),g}function v(e,t){var r,n,o=Object.keys(t);for(r=0;n=o[r];r++)e[n]=t[n];return e}var y=/([&<>]{1})/g,b=/([\n\r"]{1})/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function x(e,t){return e.replace(t,(function(e,t){return w[t]||t}))}function k(e,t){var r,n,o,i,a;switch(e.nodeType){case 3:t.push(x(e.textContent,y));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(r=0,n=(o=e.attributes).length;r<n;++r)i=o.item(r),t.push(" ",i.name,'="',x(i.value,b),'"');if(e.hasChildNodes()){for(t.push(">"),r=0,n=(a=e.childNodes).length;r<n;++r)k(a.item(r),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",x(e.nodeValue,y),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function S(e,t){var n=d(t);if(u(e),t){(function(e){return"#document-fragment"===e.nodeName})(n)||(n=n.documentElement);for(var o,i=(o=n.childNodes,Array.prototype.slice.call(o)),a=0;a<i.length;a++)r(i[a],e)}}function C(e,r){return r.insertBefore(t(e,r),r.firstChild||null)}function A(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}e.append=function(e,t){return r(t,e),e},e.appendTo=r,e.attr=a,e.classes=function(e){return new c(e)},e.clear=u,e.clone=function(e){return e.cloneNode(!0)},e.create=h,e.createMatrix=function(e,t,r,n,o,i){var a=m().createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return v(a,e);case 6:return v(a,{a:e,b:t,c:r,d:n,e:o,f:i})}},e.createPoint=function(e,t){var r=m().createSVGPoint();switch(arguments.length){case 0:return r;case 2:e={x:e,y:t}}return v(r,e)},e.createTransform=function(e){return e?m().createSVGTransformFromMatrix(e):m().createSVGTransform()},e.innerSVG=function(e,t){if(void 0!==t){try{S(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,r=[];t;)k(t,r),t=t.nextSibling;return r.join("")}(e)},e.off=function(e,t,r,n){e.removeEventListener(t,r,n)},e.on=function(e,t,r,n){e.addEventListener(t,r,n)},e.prepend=function(e,t){return C(t,e),e},e.prependTo=C,e.remove=l,e.replace=function(e,r){return e.parentNode.replaceChild(t(r,e),e),r},e.select=function(e,t){return e.querySelector(t)},e.selectAll=function(e,t){var r=e.querySelectorAll(t);return[].map.call(r,(function(e){return e}))},e.transform=function(e,t){var r=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var r,n;for(e.clear(),r=0;n=t[r];r++)e.appendItem(A(e,n))}(r,t)),r.consolidate()}}));
